<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper and Scissors</title>
</head> 
<body>
    <p>Rock Paper and Scissors</p>
    
    <button onclick="
        playGame('Rock');
    ">
    Rock
    </button>
    
    <button onclick="
    playGame('Paper');
    ">
    Paper
    </button>
    
    <button onclick="
    playGame('Scissors');
    ">
    Scissors
    </button>

    <button onclick="
        score.Wins = 0;
        score.Looses = 0;
        score.Ties = 0;
        localStorage.removeItem('score');
    ">
        Reset Scores
    </button>
    <script>
        function generateComputerMove(){
            const randNum = Math.random();
            if (randNum <= 0.33){
            computerMove = 'Rock';
            } else if (0.33 < randNum <= 0.66) {
                computerMove = 'Paper';
            } else {
                computerMove = 'Scissors';
            }

            return computerMove;
        }

        // const score = {
        //     Looses : 0,
        //     Wins : 0,
        //     Ties: 0
        // };

        const score = JSON.parse(localStorage.getItem('score')) || {Looses: 0, Wins:0, Ties:0};

        function playGame(myMove){
            const computerMove = generateComputerMove();
            
            if (myMove === 'Rock') {
                if (computerMove == 'Rock'){
                    result = 'Tie';
                } else if (computerMove == 'Paper'){
                    result = 'You loose';
                } else {
                    result = 'You win';
                }
            } else if (myMove === 'Paper') {
                if (computerMove == 'Rock'){
                    result = 'You win';
                } else if (computerMove == 'Paper'){
                    result = 'Tie';
                } else {
                    result = 'You loose';
                }
            } else {
                if (computerMove == 'Rock'){
                    result = 'You loose';
                } else if (computerMove == 'Paper'){
                    result = 'You win';
                } else {
                    result = 'Tie';
                }
            }

            if (result === 'Tie'){
                score.Ties++;
            } else if (result === 'You win'){
                score.Wins++;
            } else {
                score.Looses++;
            }

            localStorage.setItem('score', JSON.stringify(score)); // we save the object score into local Storage and we name it score

            alert(`Computer choose ${computerMove}, you chose ${myMove}. ${result}
            Ties: ${score.Ties} , Wins: ${score.Wins}, Looses: ${score.Looses}`);
        }

    </script>
</body>
</html>